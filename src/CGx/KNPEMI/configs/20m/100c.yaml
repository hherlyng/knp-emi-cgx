# KNP-EMI Config File
problem_type : "KNP-EMI"

# Input and output directorie
input_dir  : '/home/hherlyng/knp-emi-cgx/src/CGx/KNPEMI/geometries/GC/'
output_dir : '/global/D1/homes/hherlyng/knp-emi-cgx/output/GC/20m/100c/'

# Numerical parameters 
dt : 0.00005 # Timestep size 
time_steps : 500 # Number of timesteps
#T  : 50 # Simulation end time

# Problem constants (in consistent units)
physical_constants:
  T : 300   # Temperature [K]
  F : 96485 # Faraday constant [C/mol]
  R : 8.314 # Gas constant [J/(K*mol)]

C_M : 0.02 # membrane capacitance

# Mesh and meshtags files 
mesh_file      : "20m/100c/mesh.xdmf"
cell_tag_file  : "20m/100c/mesh.xdmf"
facet_tag_file : "20m/100c/facets.xdmf"
mesh_conversion_factor: 1e-9

ics_tags  : [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
             16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27,
             28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39,
             40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51,
             52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,
             64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75,
             76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87,
             88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,
             100, 101] # Intracellular space cell tags
ecs_tags  : [1] # Extracellular space cell tags
boundary_tags : [1001, 1002, 1003, 1004, 1005, 1106, 1007, 1008, 1009, 1010,
                 1011, 1012, 1013, 1014, 1015, 1016, 1017, 1018, 1019, 1020,
                 1021, 1022, 1023, 1024, 1025, 1026, 1027, 1028, 1029, 1030,
                 1031, 1032, 1033, 1034, 1035, 1036, 1037, 1038, 1039, 1040,
                 1041, 1042, 1043, 1044, 1045, 1046, 1047, 1048, 1049, 1050,
                 1051, 1052, 1053, 1054, 1055, 1056, 1057, 1058, 1059, 1060,
                 1061, 1062, 1063, 1064, 1065, 1066, 1067, 1068, 1069, 1070,
                 1071, 1072, 1073, 1074, 1075, 1076, 1077, 1078, 1079, 1080,
                 1081, 1082, 1083, 1084, 1085, 1086, 1087, 1088, 1089, 1090,
                 1091, 1092, 1093, 1094, 1095, 1096, 1097, 1098, 1099, 1100,
                 1101] # Boundary facet tags
membrane_tags : [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
                 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27,
                 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39,
                 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51,
                 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,
                 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75,
                 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87,
                 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,
                 100, 101] # Membrane (interface) facet tags
stimulus_tags : [] # Membrane facet tags of the cells being stimulated

source_terms : "ion_injection"

#ion_species:
#  Na : 
  #   valence : 1
  #   diffusivity : 0.2
  #   #initial :     
  #     ics : 0.4 # varying by ics/ecs
  #     ecs : 0.8
  #   #source: "t < 2 ? 2.1 : 0.0" # c expressions as in old fenics,
  #                               # with access to x (spatial) and t for time

  # K :
  #   valence : 1
  #   diffusivity : 0.2
  #   initial : "input/concentration_K.xdmf" # read in from .xdmf file (map from cell to value)
  # Cl :
  #   valence : -1
  #   diffusivity : 0.2
  #   initial : 
  #     ics : 0.4
  #     ecs : 0.3
  #    # 5 : 0.7



# ionic_membrane_models:
#   5 : 
#     model: HH.ode
#     parameters : 
#       beta : 3.2
#     stimuli:
#       Na : 3.2
#     initial_potential: 1
#   "1-4" : "Leak" 
