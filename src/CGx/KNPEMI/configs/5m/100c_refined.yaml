# KNP-EMI Config File
problem_type : "KNP-EMI"

# Input and output directorie
input_dir  : '/home/hherlyng/knp-emi-cgx/src/CGx/KNPEMI/input/'
output_dir : '/global/D1/homes/hherlyng/knp-emi-cgx/output/GC/5m/100c/refined/'

# Numerical parameters 
dt : 0.00005 # Timestep size 
time_steps : 100 # Number of timesteps
#T  : 50 # Simulation end time

# Problem constants (in consistent units)
physical_constants:
  T : 300   # Temperature [K]
  F : 96485 # Faraday constant [C/mol]
  R : 8.314 # Gas constant [J/(K*mol)]

C_M : 0.02 # membrane capacitance

# Mesh and meshtags files 
mesh_file      : "geometries/GC/5m/100c/mesh_refined.xdmf"
cell_tag_file  : "geometries/GC/5m/100c/mesh_refined.xdmf"
facet_tag_file : "geometries/GC/5m/100c/mesh_refined.xdmf"
mesh_conversion_factor: 1e-9

ics_tags  : !range [2, 102] # Intracellular space cell tags 
ecs_tags  : [1] # Extracellular space cell tags
boundary_tags : !range [1001, 1102] # Boundary facet tags
membrane_tags : !range [2, 102] # Membrane (interface) facet tags
glia_tags : [71, 90, 95, 100]
stimulus_tags : [56] # Membrane facet tags of the cells being stimulated

stimulus_region : 
  range : [1150, 1250]
  direction : "x"

point_evaluation :
  ics_points : [[1200, 3102, 3497], [1200, 3302, 3476]]
  ecs_points : [[1200, 3113, 3607], [1200, 1334, 3934]]
  
initial_conditions:
  phi_m_n : -0.06702829419210782
  phi_m_g : -0.08483175665202253
  Na_i_n : 10.484620665861142
  Na_i_g : 12.129621899673564
  Na_e : 104.13452476396661
  K_i_n : 117.70905802468269
  K_i_g : 172.64867984282805
  K_e : 5.127642612776433
  Cl_i_n : 6.9556280911521595
  Cl_i_g : 3.022291482949853
  Cl_e : 112.17755867387217
  n : 0.2874926923821897
  m : 0.04157919415735388
  h : 0.6639387630109411

stimulus :
  g_syn_bar : 80 # Maximum synaptic conductance
  a_syn : 0.001 # Synaptic time constant
  T_stim : 1 # Stimulus period